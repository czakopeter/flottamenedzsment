<!DOCTYPE html>
<html lang="en" layout:decorate="~{layouts/main}">
<head>
<title>Flotta</title>
</head>
<body>
  <div id="menu" th:fragment="menu" class="navbar navbar-expand my-menu">
    <div sec:authorize="isAuthenticated()" class="navbar-nav">
      <ul class="nav">
        <li sec:authorize="hasAnyAuthority('USER_MNGR','ADMIN')" class="nav-item"><a
          class="nav-link" th:classappend="${title} == 'User' ? 'active' :''" href="/user/all"
          th:text="#{main.users}"
        >User</a></li>
        <li sec:authorize="hasAnyAuthority('SUBSCRIPTION_MNGR','ADMIN')" class="nav-item"><a
          class="nav-link" th:classappend="${title} == 'Subscription' ? 'active' :''"
          href="/subscription/all" th:text="#{main.subscriptions}"
        >Subscription</a></li>
        <li sec:authorize="hasAnyAuthority('SUBSCRIPTION_MNGR','ADMIN')" class="nav-item"><a
          class="nav-link" th:classappend="${title} == 'Sim' ? 'active' :''" href="/sim/all"
          th:text="#{main.sims}"
        >Sim</a></li>
        <li sec:authorize="hasAnyAuthority('DEVICE_MNGR','ADMIN')" class="nav-item"><a
          class="nav-link" th:classappend="${title} == 'Device' ? 'active' :''" href="/device/all"
          th:text="#{main.devices}"
        >Device</a></li>
        <li sec:authorize="hasAnyAuthority('DEVICE_MNGR','ADMIN')" class="nav-item"><a
          class="nav-link" th:classappend="${title} == 'DeviceType' ? 'active' :''"
          href="/deviceTypes" th:text="#{main.deviceTypes}"
        >Device type</a></li>
        <li sec:authorize="hasAnyAuthority('FINANCE_MNGR','ADMIN')" class="nav-item dropdown" th:classappend="${title} == 'Invoice' ? 'active' :''"><a class="nav-link dropdown-toggle"
          data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" th:text="#{main.invoices}">Invoices</a>
          <div class="dropdown-menu">
            <a class="dropdown-item" href="/invoiceConfigure/main">Configure</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="/invoice/all">Invoices</a>
          </div>
         </li>
      </ul>
    </div>
    <div class="ml-auto mr-3">
      <div sec:authorize="isAuthenticated()" class="form-inline">
        <label class="mr-1" th:text="#{main.greeting}">Wellcome</label>
        <label class="mr-1" th:text="${#authentication.getPrincipal().getFullName()}">Somebody</label>
        <div class="dropdown">
          <a class="nav-link dropdown-toggle" id="dropdownProfileMenuButton" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">
            <img alt="Settings" src="/img/settings-male.png" style="height: 25px"/>
          </a>
          <div class="dropdown-menu" style="position: absolute; ">
            <a class="dropdown-item" href="/profile/finance">Invoice</a>
            <a class="dropdown-item" href="/profile/items">Items</a>
            <a class="dropdown-item" href="/profile/changePassword">Change password</a>
          </div>
        </div>
        <a th:href="@{/logout}">
          <img alt="Logout" src="/img/logout.png" style="height: 25px" />
        </a>
      </div>
    </div>
    <div class="navbar-nav mr-3">
      <span>
<!--         <a href="?lang=hu" class="mr-1">HU</a> -->
<!--         <a href="?lang=en">EN</a> -->
        <a href="?lang=hu" class="mr-1" onclick="document.cookie='lang=hu'">HU</a>
        <a href="?lang=en" onclick="document.cookie='lang=en'">EN</a>
      </span>
      <!--       <span> <a href="?lang=hu" class="mr-1">HU</a> -->
      <!--         <a href="?lang=en">EN</a> -->
      <!--       </span> -->
    </div>
  </div>
</body>
</html>